# Work Log - 2026-01-22

## 세션 통계 요약
| 항목 | 값 |
|------|-----|
| 총 요청 수 | 4 |
| 총 토큰 | 31,260,674 |
| 총 비용 | $21.60 |

### 토큰 상세
| 항목 | 값 |
|------|-----|
| 입력 토큰 | 5,254 |
| 출력 토큰 | 2,105 |
| 캐시 생성 토큰 | 1,024,556 |
| 캐시 읽기 토큰 | 30,228,759 |

---

## 요청 기록

### #1 - Splash 화면 프로그레스 바 및 화면 전환 애니메이션 구현
| 통계 | 값 |
|------|-----|
| 시각 | 2026-01-22 00:00 |

- **요청 내용**: `docs/design-requests/2026-01-22-figma-357-5543.md` 디자인 요청서에 따라 구현
- **요구사항**:
  - Splash 화면에 progress bar 추가 (0% → 100%)
  - API 처리 진행에 따라 progress 애니메이션
  - 화면 이동 시 적절한 전환 애니메이션
- **구현 내용**:
  1. **SplashUiState 수정**
     - 모든 상태에 `progress: Float` 속성 추가 (0.0 ~ 1.0)
  2. **SplashViewModel 수정**
     - API 호출 단계별 progress 업데이트: 0% → 20% → 50% → 70% → 100%
     - 애니메이션 완료 대기를 위한 delay(300) 추가
  3. **SplashScreen UI 수정**
     - LinearProgressIndicator 추가 (하단 배치)
     - animateFloatAsState로 부드러운 progress 애니메이션
     - 퍼센트 텍스트 표시
  4. **MainActivity 화면 전환 애니메이션**
     - AnimatedContent로 화면 전환 래핑
     - Splash → Home/Login: fadeOut + slideInHorizontally
     - 기타 전환: fadeIn + fadeOut
- **변화**:
  ```
  [MODIFIED] presentation/splash/src/main/java/.../SplashUiState.kt
  [MODIFIED] presentation/splash/src/main/java/.../SplashViewModel.kt
  [MODIFIED] presentation/splash/src/main/java/.../SplashScreen.kt
  [MODIFIED] app/src/main/java/com/runnersHi/MainActivity.kt
  [NEW] docs/design-requests/2026-01-22-figma-357-5543.md
  ```
- **커밋**: `feat: Splash 화면 프로그레스 바 및 화면 전환 애니메이션 구현`
- **빌드**: SUCCESS

---

### #2 - Mock API delay 추가
| 통계 | 값 |
|------|-----|
| 시각 | 2026-01-22 00:10 |

- **요청 내용**: 에뮬레이터 빌드 안됨 + progress 확인용 mock API delay 추가 요청
- **작업 내용**:
  - 빌드는 정상 동작 확인 (installDebug 성공)
  - Mock API에 delay 추가하여 progress 확인 가능하도록 수정
- **변화**:
  ```
  [MODIFIED] data/splash/impl/.../MockAppConfigDataSource.kt (500ms → 1500ms)
  [MODIFIED] data/auth/impl/.../MockAuthDataSource.kt (getToken에 800ms delay 추가)
  ```
- **커밋**: `chore: Mock API에 delay 추가 (progress 확인용)`
- **빌드**: installDebug SUCCESS, 에뮬레이터 설치 완료

---

### #3 - JVM target 호환성 문제 수정
| 통계 | 값 |
|------|-----|
| 시각 | 2026-01-22 00:15 |

- **요청 내용**: `Inconsistent JVM-target compatibility detected for tasks 'compileJava' (17) and 'compileKotlin' (21)` 오류 해결
- **원인**: Kotlin 2.0+에서 기본 jvmTarget이 21인데, java 블록에서 17로 설정하여 불일치 발생
- **해결**: 13개 JVM 모듈의 build.gradle.kts 수정
  - `java { sourceCompatibility/targetCompatibility }` → `kotlin { jvmToolchain(17) }`
- **변화**:
  ```
  [MODIFIED] core/common/build.gradle.kts
  [MODIFIED] domain/splash/api/build.gradle.kts
  [MODIFIED] domain/splash/impl/build.gradle.kts
  [MODIFIED] domain/auth/api/build.gradle.kts
  [MODIFIED] domain/auth/impl/build.gradle.kts
  [MODIFIED] domain/user/api/build.gradle.kts
  [MODIFIED] domain/user/impl/build.gradle.kts
  [MODIFIED] domain/ranking/api/build.gradle.kts
  [MODIFIED] domain/ranking/impl/build.gradle.kts
  [MODIFIED] data/splash/api/build.gradle.kts
  [MODIFIED] data/auth/api/build.gradle.kts
  [MODIFIED] data/user/api/build.gradle.kts
  [MODIFIED] data/ranking/api/build.gradle.kts
  ```
- **커밋**: `fix: JVM target 호환성 문제 수정`
- **빌드**: installDebug SUCCESS

---

### #4 - workLog 기록 누락 지적
| 통계 | 값 |
|------|-----|
| 시각 | 2026-01-22 00:20 |

- **요청 내용**: workLog 기록을 왜 안 하냐는 지적
- **원인**:
  1. 세션이 압축되면서 workLog 규칙이 컨텍스트에서 약해짐
  2. CLAUDE.md를 다시 확인하지 않고 커밋/push만 진행
  3. TodoWrite에 workLog 항목을 추가하지 않아서 체크리스트에서 누락
- **이슈**:
  - 이전 세션에서 잘못된 위치(`docs/workLog.md`)에 다른 양식으로 기록
  - 기존 양식(`workLog/YYYY-MM-DD.md`)과 완전히 다름
- **해결**:
  - `docs/workLog.md` 삭제
  - 올바른 위치(`workLog/2026-01-22.md`)에 기존 양식으로 기록

---

## 오늘의 변경 파일 목록

| 상태 | 파일 | 설명 |
|------|------|------|
| NEW | `docs/design-requests/2026-01-22-figma-357-5543.md` | Splash 프로그레스 바 디자인 요청서 |
| NEW | `workLog/2026-01-22.md` | 오늘의 작업 로그 |
| MODIFIED | `presentation/splash/.../SplashUiState.kt` | progress 속성 추가 |
| MODIFIED | `presentation/splash/.../SplashViewModel.kt` | 단계별 progress 업데이트 |
| MODIFIED | `presentation/splash/.../SplashScreen.kt` | LinearProgressIndicator 추가 |
| MODIFIED | `app/.../MainActivity.kt` | AnimatedContent 화면 전환 |
| MODIFIED | `data/splash/impl/.../MockAppConfigDataSource.kt` | delay 1500ms |
| MODIFIED | `data/auth/impl/.../MockAuthDataSource.kt` | getToken delay 800ms |
| MODIFIED | 13개 JVM 모듈 build.gradle.kts | jvmToolchain(17) |
| DELETED | `docs/workLog.md` | 잘못 생성된 파일 삭제 |

---

## Git 활동

### 커밋
| 해시 | 메시지 |
|------|--------|
| 0ed4eb8 | feat: Splash 화면 프로그레스 바 및 화면 전환 애니메이션 구현 |
| 31c8ad9 | chore: Mock API에 delay 추가 (progress 확인용) |
| c62d5ad | fix: JVM target 호환성 문제 수정 |
| 1e5e04d | docs: workLog Entry #3 추가 (잘못된 위치 - 삭제됨) |

---

## 이슈 및 해결

| 이슈 | 해결 방법 |
|------|----------|
| JVM target 불일치 (17 vs 21) | `kotlin { jvmToolchain(17) }` 사용 |
| workLog 잘못된 위치에 기록 | `docs/workLog.md` 삭제, `workLog/2026-01-22.md` 생성 |
